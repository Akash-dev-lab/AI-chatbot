import{j as e,m as M}from"./vendor-Deb2PdYT.js";import{F as S,a as _,b as E,c as P}from"./index-Dksf2cMk.js";import{u as b,d as m}from"./redux-CJFldUpq.js";import{t as F,f as R,a as O,b as g,s as W,u as $,l as U,c as z}from"./index-CqVM7qCI.js";import{a as n,u as I}from"./react-CFQ-Nn85.js";const B=({isOpen:s,title:t,setTitle:a,onClose:r,onCreate:l})=>s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal-backdrop",onClick:r}),e.jsxs("div",{className:"modal",children:[e.jsx("h2",{className:"modal-title",children:"âœ¨ Start a New Chat"}),e.jsx("input",{type:"text",value:t,onChange:o=>a(o.target.value),placeholder:"Enter chat title...",className:"modal-input"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn cancel",onClick:r,children:"Cancel"}),e.jsx("button",{className:"btn create",onClick:l,disabled:!t.trim(),children:"Create ðŸš€"})]})]})]}):null,T=()=>{const s=b(),t=m(a=>a.theme.theme);return e.jsx("button",{className:"cursor-pointer",onClick:()=>s(F()),children:t==="light"?"ðŸŒ™ Dark Mode":"â˜€ï¸ Light Mode"})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,r)=>r?r.toUpperCase():a.toLowerCase()),j=s=>{const t=D(s);return t.charAt(0).toUpperCase()+t.slice(1)},N=(...s)=>s.filter((t,a,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===a).join(" ").trim(),H=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=n.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:l="",children:o,iconNode:d,...c},u)=>n.createElement("svg",{ref:u,...Z,width:t,height:t,stroke:s,strokeWidth:r?Number(a)*24/Number(t):a,className:N("lucide",l),...!o&&!H(c)&&{"aria-hidden":"true"},...c},[...d.map(([p,h])=>n.createElement(p,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=(s,t)=>{const a=n.forwardRef(({className:r,...l},o)=>n.createElement(G,{ref:o,iconNode:t,className:N(`lucide-${q(j(s))}`,`lucide-${s}`,r),...l}));return a.displayName=j(s),a};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],V=C("log-out",K);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Y=C("x",X),J=({isOpen:s,onClose:t})=>{const a=I();return s?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-9999 bg-black/50 backdrop-blur-sm",children:e.jsxs(M.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"flex flex-col bg-white/10 h-96 justify-center gap-20 backdrop-blur-lg border border-white/20 p-6 rounded-2xl shadow-2xl w-[90%] max-w-md text-center text-white",children:[e.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-300 hover:text-white transition",children:e.jsx(Y,{size:20})}),e.jsx("h2",{className:"text-3xl font-semibold mb-2",children:"Authentication Required"}),e.jsxs("p",{className:"text-gray-200 text-lg",children:["You are not logged in.",e.jsx("br",{})," Please login or signup to continue."]}),e.jsxs("div",{className:"flex justify-center gap-20",children:[e.jsx("button",{onClick:()=>a("/login"),className:"w-30 h-10 rounded-xl cursor-pointer bg-gradient-to-r from-blue-500 to-indigo-500 text-white font-medium shadow-lg hover:opacity-90 transition",children:"Login"}),e.jsx("button",{onClick:()=>a("/register"),className:"w-30 h-10 cursor-pointer rounded-xl bg-gradient-to-r from-pink-500 to-purple-500 text-white font-medium shadow-lg hover:opacity-90 transition",children:"Signup"})]})]})}):null},ie=()=>{const s=b(),{isOpen:t}=m(i=>i.sidebar),a=m(i=>i.user),{list:r=[],activeChatId:l}=m(i=>i.chats),[o,d]=n.useState(!1),[c,u]=n.useState(""),[p,h]=n.useState(!1),[w,v]=n.useState(window.innerWidth),x=n.useRef(null);n.useEffect(()=>{s(R()),s(O())},[s]),n.useEffect(()=>{const i=()=>v(window.innerWidth);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const k=i=>{const f=i.target.files[0];f&&s($(f))},y=()=>{if(!a?._id)return h(!0);x.current.click()},L=()=>{if(!a?._id)return h(!0);c.trim()&&(s(z(c)),d(!1),u(""))},A=()=>{s(U())};return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"hamburger",onClick:()=>s(g()),children:e.jsx(S,{className:"fa-bars"})}),e.jsxs("div",{className:`sidebar ${t?"active":""}`,children:[e.jsxs("div",{className:"sidebar-top",children:[e.jsxs("div",{className:"sidebar-option",onClick:()=>d(!0),children:[e.jsx(_,{})," ",e.jsx("span",{children:"New chat"})]}),e.jsxs("div",{className:"sidebar-option",children:[e.jsx(E,{})," ",e.jsx("span",{children:"Search chats"})]}),e.jsxs("div",{className:"sidebar-option",children:[e.jsx(P,{})," ",e.jsx("span",{children:"Library"})]})]}),e.jsx("hr",{className:"divider"}),e.jsxs("div",{className:"chats",children:[e.jsx("h4",{className:"chats-heading",children:"Chats"}),r.length>0?r.map(i=>e.jsx("div",{className:`chat-item ${l===i._id?"active":""}`,onClick:()=>s(W(i._id)),children:i.title},i._id)):e.jsx("p",{className:"no-chats",children:"No chats yet"})]}),e.jsxs("div",{className:"sidebar-bottom",children:[e.jsxs("div",{className:"profile",children:[e.jsx("img",{src:a?.profilePic,alt:"profile",onClick:y,className:"profile-pic cursor-pointer"}),e.jsx("input",{type:"file",accept:"image/*",ref:x,style:{display:"none"},onChange:k}),e.jsxs("div",{className:"flex flex-col text-lg",children:[e.jsx("span",{className:"profile-name",children:a?.name||"Guest"}),e.jsx("small",{className:"profile-email",children:a?.email||""})]})]}),a?._id&&e.jsxs("button",{className:"sidebar-option logout-btn",onClick:A,children:[e.jsx(V,{size:16})," ",e.jsx("span",{children:"Logout"})]}),e.jsx("button",{className:"upgrade-btn",children:a?.plan==="Free"?"Upgrade":"Pro"}),e.jsx(T,{})]})]}),t&&w<=768&&e.jsx("div",{className:"overlay",onClick:()=>s(g())}),e.jsx(B,{isOpen:o,title:c,setTitle:u,onClose:()=>d(!1),onCreate:L}),e.jsx(J,{isOpen:p,onClose:()=>h(!1)})]})};export{ie as default};
